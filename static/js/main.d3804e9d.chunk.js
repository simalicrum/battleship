(this.webpackJsonpbattleship=this.webpackJsonpbattleship||[]).push([[0],{10:function(e,t,a){e.exports=a(19)},15:function(e,t,a){},18:function(e,t,a){},19:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(4),o=a.n(i),c=(a(15),a(5)),l=a(6),s=a(2),u=a(9),m=a(7),h=a(1),p=(a(18),a(8)),y=function(){var e=[["","","","","","","","","",""],["","","","","","","","","",""],["","","","","","","","","",""],["","","","","","","","","",""],["","","","","","","","","",""],["","","","","","","","","",""],["","","","","","","","","",""],["","","","","","","","","",""],["","","","","","","","","",""],["","","","","","","","","",""]],t=[[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1]],a=[];return{receiveAttack:function(t,a){e[t][a]="X"},placeShip:function(e,n,r,i,o){a.push({ship:e,xCoor:n,yCoor:r,xOri:i,yOri:o});for(var c=0;c<e.length;c++)t[n+c*i][r+c*o]=!0},attacks:e,ships:a,allShipsSunk:function(){return a.every((function(e){return e.ship.isSunk()}))},shipsOnBoard:t,checkShipHit:function(e,t){var n,r=Object(p.a)(a);try{for(r.s();!(n=r.n()).done;)for(var i=n.value,o=0;o<i.ship.length;o++)if(e===i.xCoor+o*i.xOri&&t===i.yCoor+o*i.yOri)return i.ship.hit(o),!0}catch(c){r.e(c)}finally{r.f()}return!1}}},d=function(e){var t=Array(e).fill(!1);return{hit:function(e){t[e]=!0},isSunk:function(){return t.every((function(e){return!0===e}))},length:e,hits:t}},g=function(e){return{gameboard:e,takeTurn:function(e,t,a){return e.receiveAttack(t,a)}}};var f=function(e){return r.a.createElement("button",{className:e.isShip?"square ship":"square noship",onClick:e.onClick},e.value)};var v=function(e){return r.a.createElement("div",{id:"gamelog"},e.gamelog.map((function(e,t){return r.a.createElement("div",{key:t},e)})))},b=[0,1,2,3,4,5,6,7,8,9],k=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(c.a)(this,a),(e=t.call(this)).state={player:g(y()),enemy:g(y()),gamelog:["Would you like to play a game of Battleship?"],initialState:null,gameOver:!1},e.state.player.gameboard.placeShip(d(2),8,2,1,0),e.state.player.gameboard.placeShip(d(3),5,5,0,1),e.state.player.gameboard.placeShip(d(3),2,6,0,1),e.state.player.gameboard.placeShip(d(4),8,6,0,1),e.state.player.gameboard.placeShip(d(5),0,0,1,0),e.state.enemy.gameboard.placeShip(d(2),8,2,0,1),e.state.enemy.gameboard.placeShip(d(3),5,5,0,1),e.state.enemy.gameboard.placeShip(d(3),2,6,1,0),e.state.enemy.gameboard.placeShip(d(4),8,6,0,1),e.state.enemy.gameboard.placeShip(d(5),0,0,1,0),e.handleClick=e.handleClick.bind(Object(s.a)(e)),e.state.initialState=Object(h.cloneDeep)(e.state),e}return Object(l.a)(a,[{key:"handleClick",value:function(e,t){this.setState((function(a){var n=Object(h.cloneDeep)(a);return n.enemy.gameboard.attacks[e][t]="X",n.enemy.gameboard.allShipsSunk()&&(n.gameOver=!0),{enemy:Object(h.cloneDeep)(n.enemy),gameOver:n.gameOver}})),this.gameOver||(this.setState((function(a){return{gamelog:a.gamelog.concat("You attacked "+e+", "+t)}})),this.state.enemy.gameboard.checkShipHit(e,t)&&this.setState((function(e){return{gamelog:e.gamelog.concat("It was a hit!")}})),this.enemyTurn())}},{key:"componentDidUpdate",value:function(e,t){t.gameOver!==this.state.gameOver&&this.resetBoard()}},{key:"resetBoard",value:function(){this.setState({player:Object(h.cloneDeep)(this.state.initialState.player),enemy:Object(h.cloneDeep)(this.state.initialState.enemy),gamelog:Object(h.cloneDeep)(this.state.initialState.gamelog),initialState:Object(h.cloneDeep)(this.state.initialState),gameOver:!1})}},{key:"enemyTurn",value:function(){for(var e=Math.floor(10*Math.random()),t=Math.floor(10*Math.random());"X"===this.state.player.gameboard.attacks[e][t];)e=Math.floor(10*Math.random()),t=Math.floor(10*Math.random());this.setState((function(a){var n=Object(h.cloneDeep)(a);return n.player.gameboard.attacks[e][t]="X",{player:Object(h.cloneDeep)(n.player)}})),this.setState((function(a){return{gamelog:a.gamelog.concat("Computer attacked "+e+", "+t)}})),this.state.player.gameboard.checkShipHit(e,t)&&this.setState((function(e){return{gamelog:e.gamelog.concat("It was a hit!")}}))}},{key:"renderPlayerSquare",value:function(e,t){return r.a.createElement(f,{value:this.state.player.gameboard.attacks[e][t],isShip:this.state.player.gameboard.shipsOnBoard[e][t],key:"friend-sqaure-"+(e+10*t)})}},{key:"renderPlayerRow",value:function(e){var t=this;return r.a.createElement("div",{key:"player-row-"+e,className:"row"},b.map((function(a){return t.renderPlayerSquare(a,e)})))}},{key:"renderEnemySquare",value:function(e,t){var a=this;return r.a.createElement(f,{value:this.state.enemy.gameboard.attacks[e][t],isShip:this.state.enemy.gameboard.shipsOnBoard[e][t]&&"X"===this.state.enemy.gameboard.attacks[e][t],onClick:""===this.state.enemy.gameboard.attacks[e][t]?function(){return a.handleClick(e,t)}:function(){},key:"enemy-sqaure-"+(e+10*t)})}},{key:"renderEnemyRow",value:function(e){var t=this;return r.a.createElement("div",{key:"enemy-row-"+e,className:"row"},b.map((function(a){return t.renderEnemySquare(a,e)})))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"App"},r.a.createElement("h3",null,"Your Ships:"),r.a.createElement("div",{className:"board"},b.map((function(t){return e.renderPlayerRow(t)}))),r.a.createElement("h3",null,"Attacks:"),r.a.createElement("div",{className:"board"},b.map((function(t){return e.renderEnemyRow(t)}))),r.a.createElement(v,{gamelog:this.state.gamelog}))}}]),a}(n.Component);o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(k,null)),document.getElementById("root"))}},[[10,1,2]]]);
//# sourceMappingURL=main.d3804e9d.chunk.js.map